let t=document.createElement("style");t.innerHTML="",document.head.appendChild(t);import{r as e,d as l,c as a,k as o,x as r,q as s,n as i,u as n,e as c,f as d,y as u,z as m,A as p,o as f}from"./index.c58d0cd5.js";var g=l({name:"EditArticle",setup(){const t=i(),l=n(),c=a(()=>t.params.slug),d=o({title:"",description:"",body:"",tagList:[]});r(()=>{c.value&&async function(t){const e=await s(t);d.title=e.title,d.description=e.description,d.body=e.body,d.tagList=e.tagList}(c.value)});return{form:d,onSubmit:async()=>{let t;return t=c.value?await async function(t,l){return e.put("/articles/"+t,{article:l}).then(t=>t.article)}(c.value,d):await async function(t){return e.post("/articles",{article:t}).then(t=>t.article)}(d),l.push({name:"article",params:{slug:t.slug}})}}}});const b={class:"editor-page"},y={class:"container page"},v={class:"row"},h={class:"col-md-10 offset-md-1 col-xs-12"},x={class:"form-group"},w={class:"form-group"},L={class:"form-group"},A={class:"form-group"},E=d("div",{class:"tag-list"},null,-1);g.render=function(t,e,l,a,o,r){return f(),c("div",b,[d("div",y,[d("div",v,[d("div",h,[d("form",{onSubmit:e[5]||(e[5]=u((...e)=>t.onSubmit(...e),["prevent"]))},[d("fieldset",x,[m(d("input",{"onUpdate:modelValue":e[1]||(e[1]=e=>t.form.title=e),type:"text",class:"form-control form-control-lg",placeholder:"Article Title"},null,512),[[p,t.form.title]])]),d("fieldset",w,[m(d("input",{"onUpdate:modelValue":e[2]||(e[2]=e=>t.form.description=e),type:"text",class:"form-control form-control-lg",placeholder:"What's this article about?"},null,512),[[p,t.form.description]])]),d("fieldset",L,[m(d("textarea",{"onUpdate:modelValue":e[3]||(e[3]=e=>t.form.body=e),rows:8,class:"form-control",placeholder:"Write your article (in markdown)"},null,512),[[p,t.form.body]])]),d("fieldset",A,[d("input",{value:t.form.tagList.join(" "),type:"text",class:"form-control",placeholder:"Enter tags",onInput:e[4]||(e[4]=e=>t.form.tagList=e.split(" "))},null,40,["value"]),E]),d("button",{class:"btn btn-lg pull-xs-right btn-primary",type:"submit",disabled:!(t.form.title&&t.form.description&&t.form.body)}," Publish Article ",8,["disabled"])],32)])])])])},g.__file="src/pages/EditArticle.vue";export default g;

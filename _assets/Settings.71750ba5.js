let e=document.createElement("style");e.innerHTML="",document.head.appendChild(e);import{g as o,d as l,c as a,s as t,B as s,m as r,M as n,u,a as i,b as m,j as c,i as d,v as p,o as f}from"./index.7aa046b2.js";var g=l({name:"Settings",setup(){const e=r(),l=u(),i=a(()=>l.state.user),m=t({});s(()=>{if(!i.value)return e.push({name:"login"});m.image=i.value.image,m.username=i.value.username,m.bio=i.value.bio,m.email=i.value.email});const c=a(()=>{var e,o,l;return m.image===(null==(e=i.value)?void 0:e.image)&&m.username===(null==(o=i.value)?void 0:o.email)&&m.bio===(null==(l=i.value)?void 0:l.bio)&&!m.password});return{form:m,onSubmit:async()=>{const e=Object.entries(m).reduce((e,[o,l])=>null===l?e:{...e,[o]:l},{}),a=await async function(e){return o.put("/user",e).then(e=>e.user)}(e);l.commit(n.UPDATE_USER,a)},isButtonDisabled:c,onLogout:()=>{l.dispatch("logout")}}}});const b={class:"settings-page"},v={class:"container page"},h={class:"row"},y={class:"col-md-6 offset-md-3 col-xs-12"},w=m("h1",{class:"text-xs-center"}," Your Settings ",-1),x={class:"form-group"},S={class:"form-group"},U={class:"form-group"},V={class:"form-group"},E={class:"form-group"},L=m("hr",null,null,-1);g.render=function(e,o,l,a,t,s){return f(),i("div",b,[m("div",v,[m("div",h,[m("div",y,[w,m("form",{onSubmit:o[6]||(o[6]=c((...o)=>e.onSubmit(...o),["prevent"]))},[m("fieldset",null,[m("fieldset",x,[d(m("input",{"onUpdate:modelValue":o[1]||(o[1]=o=>e.form.image=o),type:"text",class:"form-control",placeholder:"URL of profile picture"},null,512),[[p,e.form.image]])]),m("fieldset",S,[d(m("input",{"onUpdate:modelValue":o[2]||(o[2]=o=>e.form.username=o),type:"text",class:"form-control form-control-lg",placeholder:"Your name"},null,512),[[p,e.form.username]])]),m("fieldset",U,[d(m("textarea",{"onUpdate:modelValue":o[3]||(o[3]=o=>e.form.bio=o),class:"form-control form-control-lg",rows:8,placeholder:"Short bio about you"},null,512),[[p,e.form.bio]])]),m("fieldset",V,[d(m("input",{"onUpdate:modelValue":o[4]||(o[4]=o=>e.form.email=o),type:"email",class:"form-control form-control-lg",placeholder:"Email"},null,512),[[p,e.form.email]])]),m("fieldset",E,[d(m("input",{"onUpdate:modelValue":o[5]||(o[5]=o=>e.form.password=o),type:"password",class:"form-control form-control-lg",placeholder:"New Password"},null,512),[[p,e.form.password]])]),m("button",{class:"btn btn-lg btn-primary pull-xs-right",disabled:e.isButtonDisabled,type:"submit"}," Update Settings ",8,["disabled"])])],32),L,m("button",{class:"btn btn-outline-danger",onClick:o[7]||(o[7]=(...o)=>e.onLogout(...o))}," Or click here to logout. ")])])])])},g.__file="src/pages/Settings.vue";export default g;

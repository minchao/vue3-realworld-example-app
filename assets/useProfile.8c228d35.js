import{r as e,A as a,B as n,C as l,D as o,a as t,v as i,E as u}from"./index.4623f994.js";function s({username:i,following:u,onUpdate:s}){const{active:r,run:f}=o((async function(){let o;o=u.value?await async function(o){const t=await e.checkableDelete(`/profiles/${o}/follow`),i=a(t);return i.isOk()?n(i.value.profile):l(i.value)}(i.value):await async function(o){const t=await e.checkablePost(`/profiles/${o}/follow`),i=a(t);return i.isOk()?n(i.value.profile):l(i.value)}(i.value),o.isOk()?s(o.value):await t("login")}));return{followProcessGoing:r,toggleFollow:f}}function r({username:a}){const n=i(null);function l(e){n.value=e}return u(a,(async function(){if(l(null),!a.value)return;l(await function(a){return e.get(`/profiles/${a}`).then((e=>e.profile))}(a.value))}),{immediate:!0}),{profile:n,updateProfile:l}}export{r as a,s as u};
